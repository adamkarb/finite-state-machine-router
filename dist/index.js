!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["fsm-router"]=n():t["fsm-router"]=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){"use strict";t.exports=e(1)},function(t,n,e){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=e(2),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,f=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,s=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,e=1;e<arguments.length;e++)n+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function w(t,n,e){this.props=t,this.context=n,this.refs=g,this.updater=e||b}function O(){}function k(t,n,e){this.props=t,this.context=n,this.refs=g,this.updater=e||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,n,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},O.prototype=w.prototype;var j=k.prototype=new O;j.constructor=k,r(j,w.prototype),j.isPureReactComponent=!0;var S={current:null},x=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function E(t,n,e){var r,o={},i=null,u=null;if(null!=n)for(r in void 0!==n.ref&&(u=n.ref),void 0!==n.key&&(i=""+n.key),n)x.call(n,r)&&!P.hasOwnProperty(r)&&(o[r]=n[r]);var c=arguments.length-2;if(1===c)o.children=e;else if(1<c){for(var f=Array(c),l=0;l<c;l++)f[l]=arguments[l+2];o.children=f}if(t&&t.defaultProps)for(r in c=t.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:a,type:t,key:i,ref:u,props:o,_owner:S.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===a}var _=/\/+/g,A=[];function R(t,n,e,r){if(A.length){var o=A.pop();return o.result=t,o.keyPrefix=n,o.func=e,o.context=r,o.count=0,o}return{result:t,keyPrefix:n,func:e,context:r,count:0}}function $(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function L(t,n,e){return null==t?0:function t(n,e,r,o){var u=typeof n;"undefined"!==u&&"boolean"!==u||(n=null);var c=!1;if(null===n)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case a:case i:c=!0}}if(c)return r(o,n,""===e?"."+M(n,0):e),1;if(c=0,e=""===e?".":e+":",Array.isArray(n))for(var f=0;f<n.length;f++){var l=e+M(u=n[f],f);c+=t(u,l,r,o)}else if(null===n||"object"!=typeof n?l=null:l="function"==typeof(l=v&&n[v]||n["@@iterator"])?l:null,"function"==typeof l)for(n=l.call(n),f=0;!(u=n.next()).done;)c+=t(u=u.value,l=e+M(u,f++),r,o);else if("object"===u)throw r=""+n,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r,""));return c}(t,"",n,e)}function M(t,n){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var n={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return n[t]}))}(t.key):n.toString(36)}function T(t,n){t.func.call(t.context,n,t.count++)}function I(t,n,e){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,n,t.count++),Array.isArray(t)?N(t,r,e,(function(t){return t})):null!=t&&(C(t)&&(t=function(t,n){return{$$typeof:a,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||n&&n.key===t.key?"":(""+t.key).replace(_,"$&/")+"/")+e)),r.push(t))}function N(t,n,e,r,o){var a="";null!=e&&(a=(""+e).replace(_,"$&/")+"/"),L(t,I,n=R(n,a,r,o)),$(n)}var U={current:null};function D(){var t=U.current;if(null===t)throw Error(m(321));return t}var q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};n.Children={map:function(t,n,e){if(null==t)return t;var r=[];return N(t,r,null,n,e),r},forEach:function(t,n,e){if(null==t)return t;L(t,T,n=R(null,null,n,e)),$(n)},count:function(t){return L(t,(function(){return null}),null)},toArray:function(t){var n=[];return N(t,n,null,(function(t){return t})),n},only:function(t){if(!C(t))throw Error(m(143));return t}},n.Component=w,n.Fragment=u,n.Profiler=f,n.PureComponent=k,n.StrictMode=c,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,n.cloneElement=function(t,n,e){if(null==t)throw Error(m(267,t));var o=r({},t.props),i=t.key,u=t.ref,c=t._owner;if(null!=n){if(void 0!==n.ref&&(u=n.ref,c=S.current),void 0!==n.key&&(i=""+n.key),t.type&&t.type.defaultProps)var f=t.type.defaultProps;for(l in n)x.call(n,l)&&!P.hasOwnProperty(l)&&(o[l]=void 0===n[l]&&void 0!==f?f[l]:n[l])}var l=arguments.length-2;if(1===l)o.children=e;else if(1<l){f=Array(l);for(var s=0;s<l;s++)f[s]=arguments[s+2];o.children=f}return{$$typeof:a,type:t.type,key:i,ref:u,props:o,_owner:c}},n.createContext=function(t,n){return void 0===n&&(n=null),(t={$$typeof:s,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},n.createElement=E,n.createFactory=function(t){var n=E.bind(null,t);return n.type=t,n},n.createRef=function(){return{current:null}},n.forwardRef=function(t){return{$$typeof:p,render:t}},n.isValidElement=C,n.lazy=function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},n.memo=function(t,n){return{$$typeof:h,type:t,compare:void 0===n?null:n}},n.useCallback=function(t,n){return D().useCallback(t,n)},n.useContext=function(t,n){return D().useContext(t,n)},n.useDebugValue=function(){},n.useEffect=function(t,n){return D().useEffect(t,n)},n.useImperativeHandle=function(t,n,e){return D().useImperativeHandle(t,n,e)},n.useLayoutEffect=function(t,n){return D().useLayoutEffect(t,n)},n.useMemo=function(t,n){return D().useMemo(t,n)},n.useReducer=function(t,n,e){return D().useReducer(t,n,e)},n.useRef=function(t){return D().useRef(t)},n.useState=function(t){return D().useState(t)},n.version="16.13.1"},function(t,n,e){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(t){return n[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,n){for(var e,u,c=i(t),f=1;f<arguments.length;f++){for(var l in e=Object(arguments[f]))o.call(e,l)&&(c[l]=e[l]);if(r){u=r(e);for(var s=0;s<u.length;s++)a.call(e,u[s])&&(c[u[s]]=e[u[s]])}}return c}},function(t,n,e){"use strict";e.r(n),e.d(n,"Link",(function(){return H})),e.d(n,"Machine",(function(){return U})),e.d(n,"State",(function(){return F})),e.d(n,"Transition",(function(){return z})),e.d(n,"useMachine",(function(){return I}));var r=e(0),o=e.n(r),a=function(t){if(t){var n=o.a.Children.toArray(t).filter((function(t){return"State"===t.type.displayName}));if(n.length)return n;if(t.props&&t.props.children)return t.props.children.reduce((function(t,n){return t=t.concat(u(n.props.children,"State"))}),[])}return[]},i=function t(n){return t.filter(Boolean).join(" ")},u=function(t,n){return o.a.Children.toArray(t).filter((function(t){return t.type.displayName===n}))},c=function(t,n){return n.split(".").pop()===t},f=function(t){return/^:(.+)/.test(t)},l=function(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")};function s(t,n){return"/"+l(t).map((function(t){if(f(t)){var e=t.replace(":","");return Object.keys(n).includes(e)?n[e].toString():"undefined"}return t})).join("/")+(window.location.search?window.location.search:"")}function p(t,n){var e=n.find((function(n){return n.stack===t})),r=e.childStates,o={path:e.path,stack:e.stack};if(r.length){var a=r.map((function(t){return n.find((function(n){return n.id===t}))})),i=a.find((function(t){return t.initial}))||a[0];if(i.childStates.length)return p(i.stack,n);o.path=i.path||"/",o.stack=i.stack}return o}function d(t,n,e){var r={params:null,path:null,stack:null,url:t},o=function(t,n,e){var r={params:{},path:t,stack:null},o=n.find((function(n){return n.path===t}));if(o)return r.path=o.path,r.stack=o.stack,r;if(function(t){return""===t.slice(1)}(t))return r.stack=n.find((function(t){return 1===t.stack.match(/\./g).length&&t.initial})).stack,r;var a=n.filter((function(t){return t.path&&t.path.match(/\/:/g)})).map((function(t){return t.path}));if(a.length){var i=l(t),u=a.find((function(t){var n=l(t);return r.params={},n.length===i.length&&!n.map((function(t,n){return f(t)?(r.params[t.slice(1)]=i[n],!0):t===i[n]})).includes(!1)}));u&&(r.path=u,r.stack=n.find((function(t){return t.path===u})).stack)}return r.stack||(r.stack="#"+e+".*"),r}(t,n,e),a=o.params,i=o.path,u=o.stack;r.params=a,r.path=i,r.stack=u;var c=p(u,n),d=c.path,h=c.stack;return function(t){return"*"===t.split(".").pop()}(h)||(r.path=d,r.stack=h,r.url=s(d,a)),r}function h(t,n,e){if(function(t){return!t.match(/\./g)}(n))return null;var r=e.find((function(t){return t.stack===n})).transitions;if(r.length){var o=r.find((function(n){var e=n.cond,r=n.event;n.target;return r===t&&null===e||!0===e}));if(o)return o}var a=n.split(".").slice(0,-1).join(".");return h(t,a,e)}function y(){return(y=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function v(t){return"/"===t.charAt(0)}function m(t,n){for(var e=n,r=e+1,o=t.length;r<o;e+=1,r+=1)t[e]=t[r];t.pop()}var b=function(t,n){void 0===n&&(n="");var e,r=t&&t.split("/")||[],o=n&&n.split("/")||[],a=t&&v(t),i=n&&v(n),u=a||i;if(t&&v(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];e="."===c||".."===c||""===c}else e=!1;for(var f=0,l=o.length;l>=0;l--){var s=o[l];"."===s?m(o,l):".."===s?(m(o,l),f++):f&&(m(o,l),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&v(o[0])||o.unshift("");var p=o.join("/");return e&&"/"!==p.substr(-1)&&(p+="/"),p};var g=function(t,n){if(!t)throw new Error("Invariant failed")};function w(t){return"/"===t.charAt(0)?t:"/"+t}function O(t,n){return function(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(n.length))}(t,n)?t.substr(n.length):t}function k(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function j(t){var n=t.pathname,e=t.search,r=t.hash,o=n||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function S(t,n,e,r){var o;"string"==typeof t?(o=function(t){var n=t||"/",e="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(e=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===e?"":e,hash:"#"===r?"":r}}(t)).state=n:(void 0===(o=y({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==n&&void 0===o.state&&(o.state=n));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(o.key=e),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=b(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function x(){var t=null;var n=[];return{setPrompt:function(n){return t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,e,r,o){if(null!=t){var a="function"==typeof t?t(n,e):t;"string"==typeof a?"function"==typeof r?r(a,o):o(!0):o(!1!==a)}else o(!0)},appendListener:function(t){var e=!0;function r(){e&&t.apply(void 0,arguments)}return n.push(r),function(){e=!1,n=n.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.forEach((function(t){return t.apply(void 0,e)}))}}}var P=!("undefined"==typeof window||!window.document||!window.document.createElement);function E(t,n){n(window.confirm(t))}function C(){try{return window.history.state||{}}catch(t){return{}}}function _(t){void 0===t&&(t={}),P||g(!1);var n,e=window.history,r=(-1===(n=window.navigator.userAgent).indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=t,i=a.forceRefresh,u=void 0!==i&&i,c=a.getUserConfirmation,f=void 0===c?E:c,l=a.keyLength,s=void 0===l?6:l,p=t.basename?k(w(t.basename)):"";function d(t){var n=t||{},e=n.key,r=n.state,o=window.location,a=o.pathname+o.search+o.hash;return p&&(a=O(a,p)),S(a,r,e)}function h(){return Math.random().toString(36).substr(2,s)}var v=x();function m(t){y(D,t),D.length=e.length,v.notifyListeners(D.location,D.action)}function b(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||R(d(t.state))}function _(){R(d(C()))}var A=!1;function R(t){if(A)A=!1,m();else{v.confirmTransitionTo(t,"POP",f,(function(n){n?m({action:"POP",location:t}):function(t){var n=D.location,e=L.indexOf(n.key);-1===e&&(e=0);var r=L.indexOf(t.key);-1===r&&(r=0);var o=e-r;o&&(A=!0,T(o))}(t)}))}}var $=d(C()),L=[$.key];function M(t){return p+j(t)}function T(t){e.go(t)}var I=0;function N(t){1===(I+=t)&&1===t?(window.addEventListener("popstate",b),o&&window.addEventListener("hashchange",_)):0===I&&(window.removeEventListener("popstate",b),o&&window.removeEventListener("hashchange",_))}var U=!1;var D={length:e.length,action:"POP",location:$,createHref:M,push:function(t,n){var o=S(t,n,h(),D.location);v.confirmTransitionTo(o,"PUSH",f,(function(t){if(t){var n=M(o),a=o.key,i=o.state;if(r)if(e.pushState({key:a,state:i},null,n),u)window.location.href=n;else{var c=L.indexOf(D.location.key),f=L.slice(0,c+1);f.push(o.key),L=f,m({action:"PUSH",location:o})}else window.location.href=n}}))},replace:function(t,n){var o=S(t,n,h(),D.location);v.confirmTransitionTo(o,"REPLACE",f,(function(t){if(t){var n=M(o),a=o.key,i=o.state;if(r)if(e.replaceState({key:a,state:i},null,n),u)window.location.replace(n);else{var c=L.indexOf(D.location.key);-1!==c&&(L[c]=o.key),m({action:"REPLACE",location:o})}else window.location.replace(n)}}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(t){void 0===t&&(t=!1);var n=v.setPrompt(t);return U||(N(1),U=!0),function(){return U&&(U=!1,N(-1)),n()}},listen:function(t){var n=v.appendListener(t);return N(1),function(){N(-1),n()}}};return D}function A(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function R(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?A(Object(e),!0).forEach((function(n){$(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function $(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function L(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return M(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return M(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var T=o.a.createContext({});T.displayName="Machine";var I=function(){var t=Object(r.useContext)(T);return[{current:t.current,history:t.history,id:t.id,params:t.params},t.send]};function N(t){var n=t.children,e=t.history,i=t.id,c=t.path,f=Object(r.useMemo)((function(){if(!e)return _({basename:c})}),[e]),l=L(Object(r.useMemo)((function(){var t,e=a(n);return[e,(t=i,function t(n){var e=n.findIndex((function(t){return t.props.initial}));return e=e>=0?e:0,n.reduce((function(n,r,o){var i=a(r.props.children),c=r.props,f=c.id,l=c.path,s=void 0===l?null:l,p=c.type,d=u(r.props.children,"Transition").map((function(t){var n=t.props;return{cond:n.cond||null,event:n.event,sendId:f,target:n.target}}));return n.push({childStates:i.map((function(t){return t.props.id})),id:f,initial:o===e,path:s,stack:"."+f,transitions:d,type:"parallel"===p?"parallel":0===i.length?"atomic":i.length>1?"compound":"default"}),i.length&&t(i).forEach((function(t,e){return n.push({childStates:t.childStates,id:t.id,initial:t.initial,path:s?t.path?s+t.path:s:t.path,stack:"."+f+t.stack,transitions:t.transitions,type:t.type})})),n}),[])}(e).map((function(n){return n.stack="#"+t+n.stack,n})))]}),[n]),2),y=l[0],v=l[1],m=L(Object(r.useMemo)((function(){var t,n="#"+i+"."+(t=y,t.find((function(t){return t.props.initial}))||t[0]).props.id,e=d(f.location.pathname,v,i),r=e.params,o=(e.path,e.stack),a=e.url;return f.location.pathname!==a&&f.push(a),[o||n,r]}),[]),2),b=m[0],g=m[1],w=L(Object(r.useState)({current:b,params:g}),2),O=w[0],k=w[1];Object(r.useEffect)((function(){return f.listen((function(t,n){var e=d(t.pathname,v,i),r=e.params,o=(e.path,e.stack);e.url;o!==O.current&&k({current:o,params:r})}))}));var j=R(R({},O),{},{history:f,id:i,resolvePath:function(t){var n=s(t,O.params);n!==f.location.pathname&&f.push(n,{stack:O.current})},send:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=h(t,O.current,v);if(e){var r=n&&n.params||O.params,o=(e.cond,e.event,e.target),a=v.find((function(t){return t.id===o}));if(a){var i=p(a.stack,v),u=(i.path,i.stack);0,k({current:u,params:r})}else console.error('Invalid transition target: No target State Node of id "'.concat(o,'" exists.'))}}});return o.a.createElement(T.Provider,{value:j},y)}N.displayName="Machine";var U=N,D=o.a.createContext({id:null,path:null,stack:null});function q(t){var n=t.children,e=t.component,i=t.id,u=(t.initial,t.onEntry,t.onExit,t.path),f=t.type,l=Object(r.useContext)(T),s=(l.event,l.current),p=l.history,d=l.id,h=l.params,y=l.resolvePath,v=l.send,m=Object(r.useContext)(D),b=(m.id,m.path),g=m.stack,w=g?"".concat(g,".").concat(i):"#".concat(d,".").concat(i),O=u?b?b+u:u:b,k=!!function(t,n){return!!n.split(".").find((function(n){return n===t}))}(i,s)&&{exact:c(i,s),params:h,path:O,url:p.location.pathname},j=Object(r.useMemo)((function(){var t=f,e=a(n);return"parallel"!==t&&(t=e.length?e.length>1?"compound":"default":"atomic"),t}),[n]);Object(r.useEffect)((function(){k&&"atomic"===j&&"*"!==i&&y(O||"/")}),[s]);var S={id:i,path:O,stack:w,send:v},x={children:n,history:p,machine:{current:s,send:v},match:k};return k?o.a.createElement(D.Provider,{value:S},e?o.a.createElement(e,x):n):null}D.displayName="StateNode",q.displayName="State";var F=q;function B(t){var n=t.children,e=(t.className,t.disabled),a=t.event,u=t.href,c=void 0===u?"#":u,f=t.onClick,l=t.replace,s=Object(r.useContext)(T).history,p=Object(r.useContext)(D).send;return o.a.createElement("a",{className:i((s.location.pathname,s.location.pathname.includes(c))),href:c,onClick:function(t){e?t.preventDefault():(a&&(t.preventDefault(),p(a)),l||a||(t.preventDefault(),s.push(c)),f&&f(t))}},n)}B.displayName="Link";var H=B;function V(t){return null}V.displayName="Transition";var z=V}])}));